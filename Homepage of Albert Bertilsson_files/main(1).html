
<!-- saved from url=(0093)https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./analytics.js" charset="utf-8"></script>

<script type="text/javascript">archive_analytics.values.service='wb';archive_analytics.values.server_name='wwwb-app15.us.archive.org';archive_analytics.values.server_ms=231;</script>
<script type="text/javascript" src="./wbhack.js" charset="utf-8"></script>

<script type="text/javascript">
__wbhack.init('');
</script>
<link rel="stylesheet" type="text/css" href="./banner-styles.css">
<link rel="stylesheet" type="text/css" href="./iconochive.css">

<!-- End Wayback Rewrite JS Include -->
<title>Sharper - Perft calculation</title>
<link rel="StyleSheet" href="./style(1).css" type="text/css" media="screen">
</head>

<body bgcolor="#FFFFFF" text="#000000" link="#FF3030" alink="#000000" vlink="#000000"><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="./timestamp.js" charset="utf-8"></script>
<script type="text/javascript" src="./graph-calc.js" charset="utf-8"></script>
<script type="text/javascript" src="./auto-complete.js" charset="utf-8"></script>
<script type="text/javascript" src="./toolbar.js" charset="utf-8"></script>

<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  min-width:800px !important;
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<div id="wm-ipp" lang="en" style="display:none;direction:ltr;">
<div style="position:fixed;left:0;top:0;width:100%!important">
<div id="wm-ipp-inside">
  <table style="width:100%;">
    <tbody>
      <tr>
	<td id="wm-logo">
	  <a href="https://web.archive.org/web/" title="Wayback Machine home page"><img src="./wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"></a>
	</td>
	<td class="c">
	  <table style="margin:0 auto;">
	    <tbody>
	      <tr>
		<td class="u" colspan="2">
		  <form target="_top" method="get" action="https://web.archive.org/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://www.albert.nu/programs/sharper/perft.htm" style="width:400px;" onfocus="this.focus();this.select();" autocomplete="off"><input type="hidden" name="type" value="replay"><input type="hidden" name="date" value="20061014115827"><input type="submit" value="Go"></form>
		</td>
		<td class="n" rowspan="2">
		  <table>
		    <tbody>
		      <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		      <tr class="m">
			<td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20060430011809/http://www.albert.nu:80/programs/sharper/perft.htm" title="30 Apr 2006"><strong>Apr</strong></a></td>
			<td class="c" id="displayMonthEl" title="You are here: 11:58:27 Oct 14, 2006">OCT</td>
			<td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20061223211332/http://www.albert.nu:80/programs/sharper/perft.htm" title="23 Dec 2006"><strong>Dec</strong></a></td>
		      </tr>
		      <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		      <tr class="d">
			<td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20061011070818/http://www.albert.nu:80/programs/sharper/perft.htm" title="07:08:18 Oct 11, 2006"><img src="./wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0"></a></td>
			<td class="c" id="displayDayEl" style="width:34px;font-size:24px;" title="You are here: 11:58:27 Oct 14, 2006">14</td>
			<td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20061105041334/http://www.albert.nu:80/programs/sharper/perft.htm" title="04:13:34 Nov 05, 2006"><img src="./wm_tb_nxt_on.png" alt="Next capture" width="14" height="16" border="0"></a></td>
		      </tr>
		      <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		      <tr class="y">
			<td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20050214122658/http://www.albert.nu:80/programs/sharper/perft.htm" title="14 Feb 2005"><strong>2005</strong></a></td>
			<td class="c" id="displayYearEl" title="You are here: 11:58:27 Oct 14, 2006">2006</td>
			<td class="f" nowrap="nowrap"><a href="https://web.archive.org/web/20071222054223/http://www.albert.nu:80/programs/sharper/perft.htm" title="22 Dec 2007"><strong>2007</strong></a></td>
		      </tr>
		    </tbody>
		  </table>
		</td>
	      </tr>
	      <tr>
		<td class="s">
		  		  <div id="wm-nav-captures"><a class="t" href="https://web.archive.org/web/*/http://www.albert.nu/programs/sharper/perft.htm" title="See a list of every capture for this URL">38 captures</a><div class="r" title="Timespan for captures of this URL">26 Jun 2003 - 14 May 2016</div></div>
		</td>
		<td class="k">
		  <a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm" id="wm-graph-anchor">
		    <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		      <canvas id="wm-sparkline-canvas" width="550" height="27" border="0"></canvas>
		    <div class="yt" style="display: none; width: 25px; height: 27px;"></div><div class="mt" style="display: none; width: 2px; height: 27px;"></div></div>
		  </a>
		</td>
	      </tr>
	    </tbody>
	  </table>
	</td>
	<td class="r">
	  <a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm#" onclick="window.open(&#39;https://www.facebook.com/sharer/sharer.php?u=https://web.archive.org/web/20061014115827/http://www.albert.nu/programs/sharper/perft.htm&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Facebook" style="top: 4px; right: 16px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	  <a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm#" onclick="window.open(&#39;https://twitter.com/intent/tweet?text=https://web.archive.org/web/20061014115827/http://www.albert.nu/programs/sharper/perft.htm&amp;via=internetarchive&#39;, &#39;&#39;, &#39;height=400,width=600&#39;); return false;" title="Share on Twitter" style="bottom:14px;right:16px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
	  <a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="bottom:14px;right:5px;padding-right:0;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	  <a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm#close" onclick="__wm.h(event);return false;" style="top:-2px;right:0;padding-right:0;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
	  <a id="wm-expand" class="wm-btn" href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/perft.htm#expand" onclick="__wm.ex(event);return false;"><span class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
	</td>
      </tr>
    </tbody>
  </table>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none;">
            <div style="background-color:#353535;color:#aaa;font-weight:bold;text-align:center;"><a class="wm-selector selected" href="javascript:void(0)">COLLECTED BY</a></div>
    <div style="padding:3px;position:relative;">
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/accelovation)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/accelovation" target="_new"><span class="wm-title">Accelovation Crawl</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Web crawl snapshots generously donated from <a href="http://web.archive.org/web/20060409102451/http://www.accelovation.com/">Accelovation</a>.  This data is currently not publicly accessible.
<br><br>
From <a href="http://web.archive.org/web/20060409102451/http://www.accelovation.com/">the site</a>:
Accelovation is pioneering the delivery of Insight Discovery™ software solutions that help companies move from innovation idea to product reality faster and with more success.
<br><br>
Our solutions are used by leading firms in the Fortune 500 and beyond – companies from a diverse set of industries ranging from consumer packaged goods to high tech, foods to chemicals, and others. We help them mine the online world for market and technical insights to help speed the process of innovation.
<br>
	</div>
	      </div>
    </div></div></div></div></div><script type="text/javascript">
__wm.bt(550,27,25,2,"web","http://www.albert.nu/programs/sharper/perft.htm","2006-10-14",1996);
</script><div class="wb-autocomplete-suggestions " style="left: 0px; top: 160px; width: 0px;"></div>
<!-- END WAYBACK TOOLBAR INSERT -->

<center>
<script type="text/javascript"><!--
google_ad_client = "pub-9611555676185122";
google_ad_width = 234;
google_ad_height = 60;
google_ad_format = "234x60_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript" src="./show_ads.js">
</script><iframe name="google_ads_frame" width="234" height="60" frameborder="0" src="./adsclient=ca-pub-9611555676185122&amp;dt=1498337352668&amp;lmt=1498337352&amp;format=234x60_as&amp;output=html&amp;url=https-%2F%2Fweb.archive.org%2Fweb%2F20061014115827fw_%2Fhttp-%2F%2Fwww.albert.nu%2Fprograms%2Fsharper%2Fperft.htm&amp;color_bg=FFFFFF&amp;color_text=000000&amp;col.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no"></iframe>
<br>

<small>
<a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/main.htm">Main</a>,
<a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/Sharper.zip">Sharper download</a>,
<a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/History.txt">History</a>,
<a href="https://web.archive.org/web/20061014115827fw_/http://www.albert.nu/programs/sharper/elo.htm">ELO calculation</a>,
Perft
</small></center>

<br>
<h1>Perft calculation</h1>

To verify that a chess program correctly understands all the rules in which the pieces are allowed to move
a simple test is to calculate perft values from certain positions. The perft value is calculated for a
specific position to a specific depth. For the initial position the perft value to depth 1 "perft(1)" is
20 as there are 20 valid moves from the current position. Since each of the 20 positions allows the
opponent to pick any move of 20 the perft(2) value is 400.<br>
<br>
Note that perft values for depths larger than 5 can take a considerable time to calculate and I strongly
recommend you to calculate them one after the other so that you get a feel for how long it takes, before
trying to calculate perft(9) for the initial position.<br>
<br>
If you are using perft calculation for debugging a chess engine (which is quite likely) there is a trick
you might want to use. When calculating for example perft(5) and finding that your value differs from my
value you want to know why, so you can fix it. By implementing a command that generates all possible
positions from the current position and then calculate the perft value with depth - 1 for the positions
you'll quickly find what causes the problem. For more info on this try out the "divide" command in Sharper.<br>
<br>
Some of the positions was found on <a href="https://web.archive.org/web/20061014115827/http://homepages.caverock.net.nz/~peter/perft.htm">this</a>
great page, also providing information on perft.<br>
<br>
Values that I have calculated and verified with other engines:<br>
<br>
Initial position rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1
<table border="1">
<tbody><tr><th>Depth</th><th>Perft value</th></tr>
<tr><td>1</td><td>20</td></tr>
<tr><td>2</td><td>400</td></tr>
<tr><td>3</td><td>8902</td></tr>
<tr><td>4</td><td>197281</td></tr>
<tr><td>5</td><td>4865609</td></tr>
<tr><td>6</td><td>119060324</td></tr>
<tr><td>7</td><td>3195901860</td></tr>
<tr><td>8</td><td>84998978956</td></tr>
<tr><td>9</td><td>2439530234167</td></tr>
<tr><td>10</td><td>69352859712417</td></tr>
</tbody></table>
<br>
<br>
Position r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq -<br>
This position is very good because it catches many possible bugs.
<table border="1">
<tbody><tr><th>Depth</th><th>Perft value</th></tr>
<tr><td>1</td><td>48</td></tr>
<tr><td>2</td><td>2039</td></tr>
<tr><td>3</td><td>97862</td></tr>
<tr><td>4</td><td>4085603</td></tr>
<tr><td>5</td><td>193690690</td></tr>
<tr><td>6</td><td>8031647685</td></tr>
</tbody></table>
<br>
<br>
<b>More positions that I've found useful for finding bugs</b><br>
<br>
Position 8/3K4/2p5/p2b2r1/5k2/8/8/1q6 b  - 1 67<br>
Perft(1) = 50<br>
Perft(2) = 279<br>
<br>
Position 8/7p/p5pb/4k3/P1pPn3/8/P5PP/1rB2RK1 b - d3 0 28<br>
Perft(6) = 38633283<br>
<br>
Position rnbqkb1r/ppppp1pp/7n/4Pp2/8/8/PPPP1PPP/RNBQKBNR w KQkq f6 0 3<br>
Perft(5) = 11139762<br>
<br>
Position 8/2p5/3p4/KP5r/1R3p1k/8/4P1P1/8 w - -<br>
Perft(6) = 11030083<br>
Perft(7) = 178633661<br>


</body></html>